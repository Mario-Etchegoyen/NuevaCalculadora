
<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Secciones Servicios y Contacto">
	<title>Secciones | Servicios y Contacto</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		:root {
			--color-primary: #667eea;
			--color-secondary: #764ba2;
			--color-text: #333;
			--color-light: #f8f9fa;
			--color-border: #e0e0e0;
			--transition: all 0.3s ease;
			--gradient-brand: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
			--panel-radial: radial-gradient(circle at center, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.1) 100%);
		}

		html,
		body {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			line-height: 1.6;
			color: var(--color-text);
			background: url('Imagenes/Agencia.png') center/cover fixed no-repeat;
			min-height: 100vh;
			overflow-y: auto;
			scrollbar-width: none;
			padding-top: 52px;
		}

		html::-webkit-scrollbar,
		body::-webkit-scrollbar {
			display: none;
		}

		header {
			background: white;
			box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			z-index: 1200;
		}

		nav {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 1.5rem 2rem;
			max-width: 1200px;
			margin: 0 auto;
		}

		.logo {
			font-size: 1.8rem;
			font-weight: 700;
			background: var(--gradient-brand);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		nav ul {
			list-style: none;
			display: flex;
			gap: 2rem;
		}

		nav a {
			color: var(--color-text);
			text-decoration: none;
			font-weight: 600;
			transition: var(--transition);
			position: relative;
		}

		nav a::after {
			content: '';
			position: absolute;
			width: 0;
			height: 2px;
			bottom: -5px;
			left: 0;
			background: var(--gradient-brand);
			transition: var(--transition);
		}

		nav a:hover::after {
			width: 100%;
		}

		main {
			max-width: 1200px;
			margin: 0 auto;
			padding: 2rem;
		}

		section {
			margin-bottom: 4rem;
			animation: fadeIn 0.8s ease;
		}

		h2 {
			font-size: clamp(1.5rem, 4vw, 2.5rem);
			margin-bottom: 1.5rem;
			color: #f0f0f0;
			text-align: center;
		}

		.cards-container {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
			gap: 2rem;
		}

		.card {
			background: white;
			border-radius: 12px;
			padding: 2rem;
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
			transition: var(--transition);
			border: 1px solid var(--color-border);
		}

		.card:hover {
			transform: translateY(-10px);
			box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
		}

		.card-icon {
			font-size: 3rem;
			margin-bottom: 1rem;
		}

		.card h3 {
			color: var(--color-primary);
			margin-bottom: 0.5rem;
		}

		.card p {
			color: #666;
			line-height: 1.8;
		}

		.features {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 2rem;
			margin-bottom: 3rem;
		}

		.feature {
			text-align: center;
			padding: 1.5rem;
		}

		.feature p {
			color: #f0f0f0;
		}

		.feature-number {
			font-size: 2.5rem;
			font-weight: 700;
			background: var(--gradient-brand);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			margin-bottom: 0.5rem;
		}

		#calculadora {
			margin-bottom: 4rem;
		}

		.calculadora-cuotas {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 1.5rem;
			position: relative;
			width: 100%;
		}

		.calculadora-cuotas form {
			width: 100%;
			max-width: 1000px;
			margin: 0 auto;
			background-color: #ffffff34;
			padding: 2rem 0;
			border-radius: 1rem;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
			display: flex;
			flex-direction: column;
			align-items: center;
		}

		#calculadora label {
			display: flex;
			margin: 0.5rem 5% 0.25rem;
			color: rgb(233, 233, 233);
			font-weight: bold;
			font-size: clamp(1rem, 2.5vw, 1.2rem);
			align-self: flex-start;
			width: 90%;
			text-align: left;
		}

		.calculadora-cuotas input,
		.calculadora-cuotas select {
			width: 90%;
			padding: 0.5rem;
			margin-bottom: 1rem;
			border: 1px solid #ccc;
			border-radius: 0.25rem;
			font-size: clamp(1rem, 2.5vw, 1.2rem);
		}

		.calculadora-cuotas input::placeholder {
			font-size: clamp(1rem, 2.5vw, 1.2rem);
			text-align: center;
		}

		#resultadoCuota {
			display: none;
			position: absolute;
			left: 50%;
			transform: translateX(-50%);
			top: 0;
			font-size: 1.1rem;
			font-weight: 500;
			padding: 1.5rem;
			border-radius: 2rem;
			background: rgba(0, 0, 0, 0.85);
			color: #f0f0f0;
			text-align: center;
			width: min(572px, 100%);
			border: 1px solid rgba(255, 255, 255, 0.2);
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
			line-height: 1.4;
			z-index: 5;
			pointer-events: auto;
		}

		.resultado-stack {
			position: relative;
			width: 100%;
			display: flex;
			flex-direction: column;
			align-items: center;
		}

		.resultado-cuota-total {
			background: aquamarine;
			border-radius: 2rem;
			color: #111;
			font-weight: 700;
			padding: 0.75rem 1rem;
			margin-bottom: 1rem;
			font-size: clamp(1.15rem, 2vw, 1.4rem);
		}

		.resultado-preaprobado {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			background: rgb(233, 233, 233);
			color: #00c9a7;
			font-weight: 700;
			border-radius: 999px;
			padding: 0.4rem 1.25rem;
			margin: 0.75rem auto 0;
			min-width: 0;
			width: auto;
			height: auto;
			font-size: clamp(1rem, 2vw, 1.15rem);
			border: none;
			cursor: pointer;
			transition: transform 0.2s ease, box-shadow 0.2s ease;
			box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
		}

		.resultado-preaprobado:hover {
			transform: translateY(-1px) scale(1.08);
			box-shadow: 0 10px 22px rgba(0, 0, 0, 0.2);
		}

		.modal-preaprobado {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			display: none;
			align-items: flex-start;
			justify-content: center;
			background: transparent;
			padding: 1rem clamp(1rem, 5vw, 3rem) 2rem;
			z-index: 3000;
		}

		.modal-preaprobado[aria-hidden="false"] {
			display: flex;
		}

		.modal-preaprobado__content {
			background: #0f1c2d;
			border-radius: 1.25rem;
			border: 1px solid rgba(255, 255, 255, 0.1);
			box-shadow: 0 25px 55px rgba(0, 0, 0, 0.45);
			width: min(1000px, calc(100% - 2rem));
			height: auto;
			max-height: none;
			overflow-y: visible;
			padding: clamp(1.5rem, 3vw, 2.5rem);
			color: #f5f5f5;
			position: relative;
		}

		.modal-preaprobado__toast {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%) scale(0.96);
			padding: 1rem 1.5rem;
			background: rgba(5, 15, 30, 0.95);
			border-radius: 1rem;
			border: 1px solid rgba(120, 227, 255, 0.45);
			color: #f5f5f5;
			font-weight: 600;
			text-align: center;
			letter-spacing: 0.01em;
			opacity: 0;
			pointer-events: none;
			transition: opacity 0.2s ease, transform 0.2s ease;
			z-index: 10;
		}

		.modal-preaprobado__toast.is-visible {
			opacity: 1;
			transform: translate(-50%, -50%) scale(1);
		}

		.modal-preaprobado__header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 1.5rem;
		}

		.modal-preaprobado__header h3 {
			margin: 0;
			font-size: clamp(1.4rem, 3vw, 2rem);
			color: #68e3ff;
		}

		.modal-preaprobado__obligatorios {
			margin: 0.3rem 0 0;
			font-size: 0.9rem;
			color: rgba(245, 245, 245, 0.75);
		}

		.modal-preaprobado__close {
			background: transparent;
			border: none;
			color: #f5f5f5;
			font-size: 1.8rem;
			cursor: pointer;
			line-height: 1;
		}

		.modal-preaprobado form {
			display: grid;
			gap: 1rem;
		}

		.modal-preaprobado__section {
			padding: 1rem 1.25rem;
			border: 1px solid rgba(255, 255, 255, 0.15);
			border-radius: 1rem;
			margin-bottom: 1rem;
			background: radial-gradient(circle at center, rgba(0, 201, 167, 0.25), rgba(102, 126, 234, 0.12));
		}

		.modal-preaprobado__section h4 {
			margin: 0 0 0.75rem;
			font-size: 1.05rem;
			color: #7fe4ff;
			display: flex;
			gap: 0.5rem;
			align-items: baseline;
		}

		.modal-preaprobado__section h4 span {
			font-size: 0.85rem;
			color: #f0f0f0;
			font-weight: 400;
		}

		.modal-preaprobado__field {
			display: flex;
			flex-direction: column;
		}

		.modal-preaprobado label {
			font-weight: 600;
			margin-bottom: 0.35rem;
			color: #d5f5ff;
		}

		.modal-preaprobado__label-note {
			font-weight: 400;
			font-size: 0.9em;
			color: #f0f6ff;
			margin-left: 0.2rem;
		}

		.modal-preaprobado input,
		.modal-preaprobado select {
			width: 100%;
			padding: 0.75rem 0.85rem;
			border-radius: 0.75rem;
			border: 1px solid rgba(255, 255, 255, 0.2);
			background: #0f1c2d;
			color: #f5f5f5;
		}

		.modal-preaprobado input[type="file"] {
			padding: 0.55rem;
			background: #0f1c2d;
		}

		.modal-preaprobado input::placeholder {
			color: rgba(245, 245, 245, 0.7);
		}

		.modal-preaprobado__actions {
			display: flex;
			justify-content: flex-end;
			gap: 1rem;
			margin-top: 0.5rem;
		}

		.modal-preaprobado__btn {
			border: none;
			border-radius: 999px;
			padding: 0.85rem 1.75rem;
			font-weight: 600;
			cursor: pointer;
			transition: opacity 0.2s ease;
		}

		.modal-preaprobado__btn--secondary {
			background: rgba(255, 255, 255, 0.1);
			color: #f5f5f5;
		}

		.modal-preaprobado__btn--primary {
			background: #00c9a7;
			color: #0a1020;
		}

		.modal-preaprobado__btn:disabled {
			opacity: 0.6;
			cursor: not-allowed;
		}

		.resultado-cuota-leyenda {
			color: #c3baba;
			font-weight: 600;
			font-size: clamp(0.95rem, 2vw, 1.1rem);
			margin: 0;
		}

		@media (max-width: 600px) {
			.calculadora-cuotas input,
			.calculadora-cuotas select {
				padding: 0.5rem 0.3rem;
				font-size: 1rem;
			}

			.calculadora-cuotas input::placeholder {
				font-size: 0.95rem;
			}

			.calculadora-cuotas form {
				width: 100vw;
				max-width: 98vw;
				padding: 1rem 0.5rem;
			}

			.calculadora-cuotas .boton-calcular {
				padding: 0.85rem 0.5rem;
				font-size: clamp(1rem, 5vw, 1.3rem);
			}
		}

		.boton-calcular {
			background: #c3baba;
			color: #fff;
			font-weight: bold;
			font-size: clamp(1rem, 3vw, 2rem);
			padding: 0.85rem 2.2rem;
			border: none;
			border-radius: 2rem;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
			cursor: pointer;
			transition: background 0.3s, transform 0.2s;
			margin: 1rem auto 0.5rem auto;
			width: 60%;
			min-width: 220px;
			text-align: center;
			display: block;
		}

		.boton-calcular:hover:not(:disabled),
		.boton-calcular:focus:not(:disabled) {
			background: #68a6e7;
			color: #fff;
			transform: scale(1.2);
		}

		.boton-calcular:disabled {
			cursor: not-allowed;
			background: #c3baba;
			opacity: 0.65;
			transform: none;
		}

		.boton-calcular:focus {
			outline: none;
			box-shadow: none;
		}

		.calculadora-cuotas select,
		.calculadora-cuotas select option {
			text-align: center;
		}

		.calculadora-cuotas select {
			text-align-last: center;
		}

		.calculadora-cuotas input,
		.calculadora-cuotas select {
			text-align: center;
		}

		.calculadora-cuotas select option {
			background-color: rgba(30, 147, 197, 0.7) !important;
			color: #fff !important;
			font-weight: normal;
		}

		.calculadora-cuotas select option:checked,
		.calculadora-cuotas select option[selected] {
			font-weight: bold;
		}

		.calculadora-cuotas select option[value=""] {
			background-color: #fff !important;
			color: #111 !important;
			font-weight: normal;
			display: none !important;
		}

		.calculadora-cuotas select option:hover {
			font-weight: 900;
		}

		#montoPrestamo {
			display: block;
			margin-left: auto;
			margin-right: auto;
			text-align: center;
		}

		#montoPrestamo::placeholder {
			text-align: center;
		}

		.frase-moto-info {
			display: inline-block;
			margin: 0.5rem auto;
			color: #fff;
			background: rgba(30, 147, 197, 0.7);
			font-weight: normal;
			border-radius: 0.25rem;
			padding: 0.5rem 5%;
			min-width: 100px;
			text-align: start;
			white-space: nowrap;
			font-size: clamp(0.6rem, 2vw, 2.5rem);
			overflow: hidden;
			text-overflow: clip;
			width: auto;
			max-width: 100%;
		}

		.select-con-valor,
		.input-con-valor {
			background-color: rgba(94, 198, 163, 0.57) !important;
			color: #f0f0f0 !important;
			font-weight: bold;
		}

		:is(.calculadora-container, .calculadora-container form) {
			max-width: 1000px;
			margin: 0 auto;
			background: var(--panel-radial) !important;
			padding: 2rem;
			border-radius: 12px;
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
		}

		.calculadora-container {
			border: 2px solid #f0f0f0;
		}

		.calculadora-container form {
			width: 100%;
			border: none;
		}

		.grupo-formulario {
			margin-bottom: 1.5rem;
		}

		.grupo-formulario label {
			display: block;
			margin-bottom: 0.5rem;
			color: rgb(233, 233, 233);
			font-weight: 600;
			font-size: 0.95rem;
		}

		.grupo-formulario input,
		.grupo-formulario textarea,
		.grupo-formulario select {
			width: 100%;
			padding: 0.85rem;
			border: 2px solid #e0e0e0;
			border-radius: 6px;
			font-size: 1rem;
			font-family: inherit;
			transition: all 0.3s ease;
		}

		.grupo-formulario input:focus,
		.grupo-formulario textarea:focus,
		.grupo-formulario select:focus {
			outline: none;
			border-color: #667eea;
			box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
		}

		.grupo-formulario input.error,
		.grupo-formulario textarea.error,
		.grupo-formulario select.error {
			border-color: #e74c3c;
		}

		.grupo-formulario textarea {
			resize: vertical;
			min-height: 120px;
		}

		.mensaje-error {
			color: transparent;
			font-size: 0.85rem;
			margin-top: 0.3rem;
			display: block;
			height: 1.2rem;
		}

		.mensaje-error.visible {
			color: #e74c3c;
		}

		.grupo-checkbox {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 0.15rem;
			margin-top: 0.5rem;
			min-height: 1.5rem;
		}

		.grupo-checkbox input[type="checkbox"] {
			width: 18px;
			height: 18px;
			min-width: 18px;
			margin: 0;
			cursor: pointer;
			flex-shrink: 0;
		}

		.label-checkbox {
			margin: 0;
			font-weight: normal;
			cursor: pointer;
			white-space: nowrap;
			display: flex;
			align-items: center;
			height: 18px;
		}

		.boton-enviar {
			width: 100%;
			padding: 1rem;
			background: var(--gradient-brand);
			color: white;
			border: none;
			border-radius: 6px;
			font-size: 1rem;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s ease;
			margin-top: 1rem;
		}

		.boton-enviar:hover:not(:disabled) {
			transform: translateY(-2px);
			box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
		}

		.boton-enviar:disabled {
			opacity: 0.6;
			cursor: not-allowed;
		}

		.mensaje-exito {
			background: #d4edda;
			color: #155724;
			padding: 1rem;
			border-radius: 6px;
			margin-bottom: 1.5rem;
			display: none;
			text-align: center;
			border: 1px solid #c3e6cb;
		}

		.mensaje-exito.visible {
			display: block;
			animation: slideIn 0.3s ease;
		}

		.contador-caracteres {
			font-size: 0.8rem;
			color: #999;
			margin-top: 0.3rem;
			text-align: right;
		}

		@keyframes fadeIn {
			from { opacity: 0; }
			to { opacity: 1; }
		}

		@keyframes slideIn {
			from {
				opacity: 0;
				transform: translateY(-10px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		@media (max-width: 768px) {
			main {
				padding: 1.5rem;
			}

			nav ul {
				gap: 1rem;
			}

			.cards-container {
				grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
			}
		}

		footer {
			background: var(--color-text);
			color: white;
			padding: 3rem 2rem;
			text-align: center;
			margin-top: 4rem;
		}

		.footer-content {
			max-width: 1200px;
			margin: 0 auto;
		}

		.footer-links {
			display: flex;
			justify-content: center;
			gap: 2rem;
			margin-bottom: 1.5rem;
			flex-wrap: wrap;
		}

		.footer-links a {
			color: white;
			text-decoration: none;
			transition: var(--transition);
		}

		.footer-links a:hover {
			color: var(--color-primary);
		}

		.footer-copy {
			border-top: 1px solid rgba(255, 255, 255, 0.2);
			padding-top: 1.5rem;
			margin-top: 1.5rem;
		}
	</style>
</head>
<body>
	<header>
		<nav>
			<div class="logo">TuPrendario.com</div>
			<ul>
				<li><a href="#calculadora">Calculadora</a></li>
				<li><a href="#servicios">Servicios</a></li>
				<li><a href="#modalDatosPreaprobado" id="linkDatosPreaprobadoHeader" data-modal-link="true">Preaprobado</a></li>
				<li><a href="#contacto">Contacto</a></li>
			</ul>
		</nav>
	</header>
	<main>
		<section id="calculadora">
			<h2>Calculadora de Cuotas</h2>
			<div class="calculadora-cuotas calculadora-container">
				<form id="formCalculadora" novalidate>
					<label for="montoPrestamo">Monto del Pr√©stamo</label>
					<input type="text" id="montoPrestamo" name="montoPrestamo" placeholder="Ingres√° Monto (M√≠n. $500.000)" required oninput="verificarMontoMinimo(this, false);" onblur="verificarMontoMinimo(this, true)" />

					<label for="tipoVehiculo">Veh√≠culo</label>
					<select id="tipoVehiculo" name="tipoVehiculo" disabled>
						<option value="" disabled selected>Opciones</option>
						<option value="auto">Auto/Camioneta</option>
						<option value="utilitario">Utilitario</option>
						<option value="moto">Moto</option>
						<option value="cuatriciclo">Cuatriciclo/Quad/SSV</option>
					</select>

					<label for="tipoCombustible">Combustible</label>
					<select id="tipoCombustible" name="tipoCombustible" disabled>
						<option value="" disabled selected>Opciones</option>
					</select>

					<div style="display: flex; gap: 0.5rem; width: 90%; margin: 0 auto;">
						<div style="flex: 1;">
							<label for="condicion" style="margin: 0.5rem 0 0.25rem;">Condici√≥n</label>
							<select id="condicion" name="condicion" disabled onfocus="mostrarCondiciones()" style="width: 100%; margin-bottom: 1rem;">
								<option value="" disabled selected>Opciones</option>
							</select>
						</div>
						<div style="flex: 1;">
							<label for="anio" style="margin: 0.5rem 0 0.25rem;">A√±o</label>
							<select id="anio" name="anio" disabled onfocus="mostrarAnios()" style="width: 100%; margin-bottom: 1rem;">
								<option value="" disabled selected>Opciones</option>
							</select>
						</div>
					</div>

					<label for="plazo">Plazo</label>
					<select id="plazo" name="plazo" disabled onfocus="mostrarPlazos()">
						<option value="" disabled selected>Opciones</option>
					</select>

					<label for="tasaInteres">Tasa de Inter√©s</label>
					<select id="tasaInteres" name="tasaInteres" disabled onfocus="mostrarTasasInteres()">
						<option value="" disabled selected>Opciones</option>
					</select>

					<div class="resultado-stack">
						<div id="resultadoCuota"></div>
						<div class="frase-moto-info" id="frase-uva-info">
							<b>Tasa UVA</b><br>
							<b>AUTOS/UTILITARIOS:</b> A√±o desde <span id="autos-anio"></span> / Plazo hasta <span id="autos-meses"></span> meses<br>
							<b>MOTOS:</b> desde <span id="motos-cilindrada"></span>cc / A√±o desde <span id="motos-anio"></span> / Plazo hasta <span id="motos-meses"></span> meses
						</div>
					</div>

					<button type="button" class="boton-calcular" onclick="calcularDesdeBoton()">Calcular</button>
				</form>
			</div>
		</section>
		<section id="servicios">
			<h2>Nuestros Servicios</h2>
			<div class="cards-container">
				<div class="card">
					<div class="card-icon">üöÄ</div>
					<h3>R√°pida Respuesta</h3>
					<p>Soluciones web innovadoras con las tecnolog√≠as m√°s modernas y eficientes del mercado.</p>
				</div>
				<div class="card">
					<div class="card-icon">üé®</div>
					<h3>Dise√±o Moderno</h3>
					<p>Web intuitiva de f√°cil operaci√≥n permite una experiencia armoniosa.</p>
				</div>
				<div class="card">
					<div class="card-icon">üîí</div>
					<h3>Seguridad Total</h3>
					<p>Protecci√≥n avanzada de datos con est√°ndares internacionales de seguridad e privacidad.</p>
				</div>
				<div class="card">
					<div class="card-icon">üì±</div>
					<h3>Responsive</h3>
					<p>Adaptaci√≥n perfecta a cualquier situaci√≥n. Nuestro compromiso es indagar todas las alternativas posibles.</p>
				</div>
				<div class="card">
					<div class="card-icon">‚ö°</div>
					<h3>Alto Rendimiento</h3>
					<p>Optimizaci√≥n m√°xima para velocidad y eficiencia en todos tus tr√°mites.</p>
				</div>
				<div class="card">
					<div class="card-icon">üåç</div>
					<h3>Alcance Global</h3>
					<p>Soluciones sin l√≠mites geogr√°ficos. Llegamos a todo el pa√≠s</p>
				</div>
			</div>
		</section>

		<section id="caracteristicas">
			<h2>Por qu√© elegirnos</h2>
			<div class="features">
				<div class="feature">
					<div class="feature-number">100%</div>
					<p>Satisfacci√≥n Garantizada</p>
				</div>
				<div class="feature">
					<div class="feature-number">24/7</div>
					<p>Soporte Comercial</p>
				</div>
				<div class="feature">
					<div class="feature-number">+3.000</div>
					<p>Pr√©stamos Otorgados</p>
				</div>
				<div class="feature">
					<div class="feature-number">50+</div>
					<p>Equipo de Expertos</p>
				</div>
			</div>
		</section>

		<section id="contacto">
			<h2>Env√≠a tus Comentarios</h2>
			<div class="calculadora-container">
				<div id="mensajeExito" class="mensaje-exito">
					¬°Mensaje enviado exitosamente! Te responderemos pronto.
				</div>
				<form id="formularioContacto" novalidate>
					<div class="grupo-formulario">
						<label for="nombre">Nombre y Apellido</label>
						<input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required>
						<div class="mensaje-error" id="errorNombre"></div>
					</div>
					<div class="grupo-formulario">
						<label for="email">Correo Electr√≥nico</label>
						<input type="email" id="email" name="email" placeholder="tu@email.com" required>
						<div class="mensaje-error" id="errorEmail"></div>
					</div>
					<div class="grupo-formulario">
						<label for="telefono">Tel√©fono (Opcional)</label>
						<input type="tel" id="telefono" name="telefono" placeholder="+54 (9) XXXX-XXXX">
						<div class="mensaje-error" id="errorTelefono"></div>
					</div>
					<div class="grupo-formulario">
						<label for="mensaje">Mensaje</label>
						<textarea id="mensaje" name="mensaje" placeholder="Cu√©ntanos tu consulta o sugerencia..." required></textarea>
						<div class="contador-caracteres"><span id="contadorCaracteres">0</span>/500</div>
						<div class="mensaje-error" id="errorMensaje"></div>
					</div>
					<div class="grupo-formulario">
						<div class="grupo-checkbox">
							<input type="checkbox" id="terminos" name="terminos" required>
							<label for="terminos" class="label-checkbox">Acepto que procesen mis datos personales</label>
						</div>
						<div class="mensaje-error" id="errorTerminos"></div>
					</div>
					<button type="submit" id="botonEnviar" class="boton-enviar">Enviar Mensaje</button>
				</form>
			</div>
		</section>
	</main>
	<div id="modalDatosPreaprobado" class="modal-preaprobado" aria-hidden="true">
		<div class="modal-preaprobado__content" role="dialog" aria-modal="true" aria-labelledby="modalDatosPreaprobadoTitulo">
			<div class="modal-preaprobado__header">
				<div>
					<h3 id="modalDatosPreaprobadoTitulo">Datos Preaprobado</h3>
					<p class="modal-preaprobado__obligatorios">(*) Son Datos Obligatorios</p>
				</div>
				<button type="button" class="modal-preaprobado__close" id="cerrarModalPreaprobado" aria-label="Cerrar">&times;</button>
			</div>
			<form id="formPreaprobado">
				<section class="modal-preaprobado__section">
					<h4>Datos Agencia/Particular</h4>
					<div class="modal-preaprobado__field">
						<label for="tipoSolicitante">Nombre *</label>
						<input type="text" id="tipoSolicitante" required placeholder="Nombre Agencia o Particular">
					</div>
					<div class="modal-preaprobado__field">
						<label for="telefonoContacto">Tel√©fono Contacto</label>
						<input type="tel" id="telefonoContacto" placeholder="Ej: 11 55555555">
					</div>
					<div class="modal-preaprobado__field">
						<label for="mailContacto">Mail Contacto</label>
						<input type="email" id="mailContacto" placeholder="Mail Agencia">
					</div>
				</section>

				<section class="modal-preaprobado__section">
					<h4>Datos Obligatorios</h4>
					<div class="modal-preaprobado__field">
						<label for="dniTitularFrente">Foto DNI TITULAR Frente *</label>
						<input type="file" id="dniTitularFrente" accept="image/*,.pdf" required>
					</div>
					<div class="modal-preaprobado__field">
						<label for="dniTitularDorso">Foto DNI TITULAR Dorso *</label>
						<input type="file" id="dniTitularDorso" accept="image/*,.pdf" required>
					</div>
					
					<div class="modal-preaprobado__field">
						<label for="tituloFrente">Foto TITULO Frente (o CAT) *</label>
						<input type="file" id="tituloFrente" accept="image/*,.pdf" required>
					</div>
					<div class="modal-preaprobado__field">
						<label for="tituloDorso">Foto TITULO Dorso</label>
						<input type="file" id="tituloDorso" accept="image/*,.pdf">
					</div>
					<div class="modal-preaprobado__field">
						<label for="capturaSimulador">Captura PANTALLA SIMULADOR * <span class="modal-preaprobado__label-note">(datos operaci√≥n)</span></label>
						<input type="file" id="capturaSimulador" accept="image/*,.pdf" required>
					</div>
					<div class="modal-preaprobado__field">
						<label for="telefonoCliente">Nro Telef. Celular Cliente *</label>
						<input type="tel" id="telefonoCliente" required placeholder="Ej: +54 9 11 4444-4444">
					</div>
					<div class="modal-preaprobado__field">
						<label for="mailCliente">MAIL Cliente *</label>
						<input type="email" id="mailCliente" required placeholder="cliente@email.com">
					</div>
				</section>

				<section class="modal-preaprobado__section">
					<h4>Datos Adicionales</h4>
					<div class="modal-preaprobado__field">
						<label for="conyugeFrente">Foto DNI CONYUGE/CONCUBINO Frente</label>
						<input type="file" id="conyugeFrente" accept="image/*,.pdf">
					</div>
					<div class="modal-preaprobado__field">
						<label for="conyugeDorso">Foto DNI CONYUGE/CONCUBINO Dorso</label>
						<input type="file" id="conyugeDorso" accept="image/*,.pdf">
					</div>
					<div class="modal-preaprobado__field">
						<label for="cotitularFrente">Foto DNI COTITULAR Frente</label>
						<input type="file" id="cotitularFrente" accept="image/*,.pdf">
					</div>
					<div class="modal-preaprobado__field">
						<label for="cotitularDorso">Foto DNI COTITULAR Dorso</label>
						<input type="file" id="cotitularDorso" accept="image/*,.pdf">
					</div>
				</section>
				<div class="modal-preaprobado__actions">
					<button type="button" class="modal-preaprobado__btn modal-preaprobado__btn--secondary" id="btnCancelarPreaprobado">Cancelar</button>
					<button type="submit" class="modal-preaprobado__btn modal-preaprobado__btn--primary">Enviar Datos</button>
				</div>
			</form>
			<div id="modalPreaprobadoToast" class="modal-preaprobado__toast" role="status" aria-live="assertive" aria-atomic="true"></div>
		</div>
	</div>
	<footer>
		<div class="footer-content">
			<div class="footer-links">
				<a href="#calculadora">Calculadora</a>
				<a href="#servicios">Servicios</a>
				<a href="#caracteristicas">Por qu√© elegirnos</a>
				<a href="#contacto">Contacto</a>
			</div>
			<div class="footer-copy">
				<p>&copy; 2026 Tuprendario.com Todos los derechos reservados.</p>
				<p style="font-size: 0.9rem; margin-top: 0.5rem; opacity: 0.8;">Dise√±ado con HTML5, CSS3 y JavaScript moderno</p>
			</div>
		</div>
	</footer>

	<script>
		// --- Constantes globales al principio ---
		let vehiculoSeleccionado = '';
		let combustibleSeleccionado = '';
		let anioSeleccionado = null;
		let plazoSeleccionado = null;
		let tasaSeleccionada = null;

		const montoMinimo = 1000000;
		const montoMinimoTexto = montoMinimo.toLocaleString('es-AR');

		const opcionesAnios = Array.from({ length: 10 }, (_, i) => new Date().getFullYear() - i);

		// Constantes globales para cantidad de a√±os a mostrar por tipo de veh√≠culo
		const aniosAutos = 9;        // Muestra opcionesAnios[0] a opcionesAnios[9]
		const aniosUtilitario = 9;   // Muestra opcionesAnios[0] a opcionesAnios[7]
		const aniosMotos = 7;        // Muestra opcionesAnios[0] a opcionesAnios[6]
		const aniosCuatri = 7;       // Muestra opcionesAnios[0] a opcionesAnios[6]

		const opcionesPlazos = [12, 18, 24, 36, 48, 60];

		const opcionesTasasComunesAutos = [53, 53, 53, 53, 53, 53]; // Porcentajes para cada plazo
		const opcionesTasasElectricos = [48, 48, 48, 48, 48, 48]; // Porcentajes para cada plazo
		const tasaUvaAutos = [27, 28, 28, 28, 28]; // Cambiado de tasaUVA a tasaUvaAutos

		const inicioUvaAutos = opcionesAnios[7]; // A√±o de inicio para la frase "A√±o desde"
		const mesesUvaAutos = 48; // Constante para los meses expresados en la frase "Tasa UVA"

		// Nuevas constantes globales para motos
		
		const bajaCilindrada = 125;
		const mediaCilindrada = 200;
		const altaCilindrada = 500;

		const bajaPotencia = 1200;
		const altaPotencia = 5000;

		const opcionesTasaComunesMotos = [61, 61, 61, 61, 61, 61]; // Porcentajes para cada plazo (ejemplo)
		const opcionesTasasElectricosMotos = [48, 48, 48, 48, 48, 48]; // Porcentajes para cada plazo
		const tasaUvaMotos = [27, 28, 28, 28, 28, 28];
		const inicioUvaMotos = inicioUvaAutos;
		const mesesUvaMotos = mesesUvaAutos;
	
		const cilindradaUvaMotos = mediaCilindrada; // Nueva constante global

		const gastos = 2;
		const IVA = 21;
		const camposPersistentesPreaprobado = [
			'tipoSolicitante',
			'telefonoContacto',
			'mailContacto',
			'telefonoCliente',
			'mailCliente'
		];
		let estadoPreaprobadoPersistente = {};

		// --- CONSTANTES PARA CONDICIONES DE VEH√çCULOS ---
		// MODIFICAR ESTAS CONSTANTES PARA CAMBIAR R√ÅPIDAMENTE QU√â CONDICIONES EST√ÅN DISPONIBLES
		const condicionesAuto = ['0km', 'Usado'];           // Auto: ambas opciones
		const condicionesUtilitario = ['0km', 'Usado'];     // Utilitario: ambas opciones  
		const condicionesMoto = ['0km', 'Usado'];           // Moto: ambas opciones
		const condicionesCuatriciclo = ['0km', 'Usado'];    // Cuatriciclo: ambas opciones

		// --- Resto del c√≥digo JS ---
		// Funci√≥n para formatear el monto ingresado en el input
		function formatearMonto(input) {
			let valor = input.value.replace(/[^0-9]/g, ''); // Elimina cualquier car√°cter que no sea un n√∫mero

			if (valor) {
				valor = parseInt(valor, 10).toLocaleString('es-AR', {
					maximumFractionDigits: 0,
				});
				input.value = `$ ${valor}`;
			} else {
				input.placeholder = `Ingres√° Monto (M√≠n. $${montoMinimoTexto})`;
			}
		}

		// Funci√≥n para verificar si el monto ingresado cumple con el m√≠nimo
		function verificarMontoMinimo(input, forzarHabilitar) {
			let valor = input.value.replace(/[^0-9]/g, '');
			let valorNumerico = parseInt(valor, 10);

			// Formatea siempre con $ y puntos
			if (valor) {
				input.value = `$ ${parseInt(valor, 10).toLocaleString('es-AR')}`;
			} else {
				input.value = '';
				input.placeholder = `Ingres√° Monto (M√≠n. $${montoMinimoTexto})`;
			}

			// Agrega o quita la clase seg√∫n si el monto es v√°lido
			if (!isNaN(valorNumerico) && valorNumerico >= montoMinimo) {
				input.classList.add('input-con-valor');
				habilitarSelects();
				if (forzarHabilitar) {
					// console.log("verificarMontoMinimo/valorNumerico:", valorNumerico);
				}
				return true;
			} else {
				input.classList.remove('input-con-valor');
				// Quita el fondo de todos los selects
				document.getElementById('tipoVehiculo').classList.remove('select-con-valor');
				document.getElementById('tipoCombustible').classList.remove('select-con-valor');
				document.getElementById('condicion').classList.remove('select-con-valor');
				document.getElementById('anio').classList.remove('select-con-valor');
				document.getElementById('plazo').classList.remove('select-con-valor');
				document.getElementById('tasaInteres').classList.remove('select-con-valor');
				if (forzarHabilitar && !isNaN(valorNumerico) && valorNumerico >= montoMinimo) {
					habilitarSelects();
					// console.log("verificarMontoMinimo/valorNumerico:", valorNumerico);
					return true;
				} else {
					// Si no cumple, deshabilita y reinicia los selects
					const selects = document.querySelectorAll('select');
					selects.forEach((select) => {
						select.selectedIndex = 0;
						select.disabled = true;
					});
					
					// IMPORTANTE: Resetear todas las variables globales para evitar datos inconsistentes
					vehiculoSeleccionado = '';
					combustibleSeleccionado = '';
					anioSeleccionado = null;
					plazoSeleccionado = null;
					tasaSeleccionada = null;
					
					// Resetear variables de cilindrada y potencia si existen
					if (window.valorCilindrada !== undefined) {
						window.valorCilindrada = null;
					}
					if (window.valorPotencia !== undefined) {
						window.valorPotencia = null;
					}
					
					return false;
				}
			}
		}

		// Funci√≥n para habilitar todos los selects
		function habilitarSelects() {
			const selects = document.querySelectorAll('select');
			selects.forEach((select) => {
				select.disabled = false;
			});
		}

		function mostrarValorTipoVehiculo() {
			const select = document.getElementById('tipoVehiculo');
			vehiculoSeleccionado = select.value;
			// console.log("mostrarValorTipoVehiculo/vehiculoSeleccionado:", vehiculoSeleccionado);
			actualizarOpcionesCombustible(vehiculoSeleccionado);
			return vehiculoSeleccionado;
		}

		function mostrarValorTipoCombustible() {
			const select = document.getElementById('tipoCombustible');
			combustibleSeleccionado = select.value;
			const vehiculoSeleccionado = document.getElementById('tipoVehiculo').value;
			// console.log("mostrarValorTipoCombustible/combustibleSeleccionado:", combustibleSeleccionado);

			if (vehiculoSeleccionado === "moto" && combustibleSeleccionado === "nafta") {
				mostrarVentanaCilindrada();
			}
			if (vehiculoSeleccionado === "moto" && combustibleSeleccionado === "electricoMoto") {
				mostrarVentanaPotencia();
			}

			return combustibleSeleccionado;
		}

		function actualizarOpcionesCombustible(vehiculoSeleccionado) {
			const selectCombustible = document.getElementById('tipoCombustible');
			// Limpia las opciones actuales
			selectCombustible.innerHTML = '';

			// Opciones por defecto
			let opciones = [];

			if (vehiculoSeleccionado === 'auto' || vehiculoSeleccionado === 'utilitario') {
				opciones = [
					{ value: 'comun', text: 'Nafta/Diesel' },
					{ value: 'electricoAuto', text: 'H√≠brido/El√©ctrico' }
				];
			} else if (vehiculoSeleccionado === 'moto') {
				opciones = [
					{ value: 'nafta', text: 'Nafta' },
					{ value: 'electricoMoto', text: 'El√©ctrico' }
				];
			} else if (vehiculoSeleccionado === 'cuatriciclo') {
				opciones = [
					{ value: 'nafta', text: 'Nafta' },
					{ value: 'electricoCuatri', text: 'El√©ctrico' }
				];
			} else {
				opciones = [];
			}

			// Limpia las opciones pero mantiene la opci√≥n "Opciones" inicial
			selectCombustible.innerHTML = '<option value="" disabled selected>Opciones</option>';
			
			// Agrega las opciones v√°lidas al select
			opciones.forEach(op => {
				const option = document.createElement('option');
				option.value = op.value;
				option.text = op.text;
				selectCombustible.appendChild(option);
			});

			// Reinicia la selecci√≥n a la opci√≥n por defecto
			selectCombustible.value = '';
			selectCombustible.classList.remove('select-con-valor'); // Remover color verde

			// Habilita el select de combustible si hay opciones v√°lidas
			selectCombustible.disabled = opciones.length <= 0;
		}

		function mostrarVentanaCilindrada() {
			// Crea el fondo oscuro
			const fondo = document.createElement('div');
			fondo.style.position = 'fixed';
			fondo.style.top = 0;
			fondo.style.left = 0;
			fondo.style.width = '100vw';
			fondo.style.height = '100vh';
			fondo.style.backgroundColor = 'transparent';
			fondo.style.display = 'flex';
			fondo.style.alignItems = 'center';
			fondo.style.justifyContent = 'center';
			fondo.style.zIndex = 1000;

			// Crea la ventana modal
			const modal = document.createElement('div');
			modal.style.background = '#29708f';
			modal.style.padding = '2rem';
			modal.style.borderRadius = '8px';
			modal.style.boxShadow = '0 2px 8px rgba(0,0,0,0.3)';
			modal.style.textAlign = 'center';

			// Label
			const label = document.createElement('label');
			label.textContent = 'CILINDRADA';
			label.style.display = 'block';
			label.style.marginBottom = '1rem';

			// Input tipo text
			const input = document.createElement('input');
			input.type = 'text';
			input.placeholder = `M√≠nimo ${bajaCilindrada}cc`;
			input.style.marginBottom = '1rem';
			input.style.width = '80%';
			input.style.textAlign = 'center';
			input.style.display = 'block';
			input.style.marginLeft = 'auto';
			input.style.marginRight = 'auto';
			input.style.fontSize = 'clamp(1rem, 2.5vw, 1.2rem)'; // Igual que en ventana potencia

			// Evento para agregar puntos a los miles y " cc"
			input.addEventListener('input', function () {
				let valor = input.value.replace(/\./g, '').replace(/\s*cc\s*$/, ''); // Quita puntos y cc
				valor = valor.replace(/\D/g, ''); // Solo n√∫meros
				if (valor) {
					let valorFormateado = parseInt(valor, 10).toLocaleString('es-AR');
					input.value = valorFormateado + 'cc'; // <-- Sin espacio antes de cc
					input.setSelectionRange(input.value.length - 2, input.value.length - 2);
				} else {
					input.value = '';
				}
			});

			// Bot√≥n
			const btn = document.createElement('button');
			btn.textContent = 'Aceptar';
			btn.onclick = function () {
				// Obtiene el valor num√©rico ingresado
				let valorCilindrada = parseInt(input.value.replace(/\./g, '').replace(/\s*cc\s*$/, ''), 10);
				if (!isNaN(valorCilindrada) && valorCilindrada >= bajaCilindrada) {
					window.valorCilindrada = valorCilindrada; // Guarda el valor como global
					// console.log("mostrarVentanaCilindrada/valorCilindrada:", valorCilindrada);
					document.body.removeChild(fondo);
					removerListeners();
				} else {
					input.value = '';
					input.focus();
				}
			};

			// Copia los estilos del bot√≥n .boton-calcular
			btn.style.background = '#c3baba';
			btn.style.color = '#fff';
			btn.style.fontWeight = 'bold';
			btn.style.fontSize = 'clamp(1rem, 3vw, 2rem)';
			btn.style.padding = '0.85rem 2.2rem';
			btn.style.border = 'none';
			btn.style.borderRadius = '2rem';
			btn.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.1)';
			btn.style.cursor = 'pointer';
			btn.style.transition = 'background 0.3s, transform 0.2s';
			btn.style.marginTop = '1rem';
			btn.style.marginBottom = '0.5rem';
			btn.style.width = 'auto';
			btn.style.minWidth = '150px';

			// Efecto hover y focus
			btn.addEventListener('mouseenter', function () {
				btn.style.background = '#68a6e7';
				btn.style.transform = 'scale(1.2)';
			});
			btn.addEventListener('mouseleave', function () {
				btn.style.background = '#c3baba';
				btn.style.transform = 'none';
			});
			btn.addEventListener('focus', function () {
				btn.style.background = '#68a6e7';
				btn.style.transform = 'scale(1.2)';
			});
			btn.addEventListener('blur', function () {
				btn.style.background = '#c3baba';
				btn.style.transform = 'none';
			});

			// Funci√≥n para cerrar la ventana y remover listeners
			function cerrarVentana() {
				if (document.body.contains(fondo)) {
					document.body.removeChild(fondo);
					removerListeners();
				}
			}

			// Listeners para cerrar la ventana si el usuario se posiciona en otros campos
			function listenerCerrar() {
				cerrarVentana();
			}

			// Tambi√©n cerrar al cambiar el select de tipo de combustible
			function listenerChangeCombustible() {
				cerrarVentana();
			}

			// Agrega los listeners de focus
			document.getElementById('montoPrestamo').addEventListener('focus', listenerCerrar);
			document.getElementById('tipoVehiculo').addEventListener('focus', listenerCerrar);
			document.getElementById('tipoCombustible').addEventListener('focus', listenerCerrar);
			// Agrega el listener de cambio
			document.getElementById('tipoCombustible').addEventListener('change', listenerChangeCombustible);

			// Remueve todos los listeners al cerrar
			function removerListeners() {
				document.getElementById('montoPrestamo').removeEventListener('focus', listenerCerrar);
				document.getElementById('tipoVehiculo').removeEventListener('focus', listenerCerrar);
				document.getElementById('tipoCombustible').removeEventListener('focus', listenerCerrar);
				document.getElementById('tipoCombustible').removeEventListener('change', listenerChangeCombustible);
			}

			// Agrega los elementos al modal
			modal.appendChild(label);
			modal.appendChild(input);
			modal.appendChild(document.createElement('br'));
			modal.appendChild(btn);

			// Agrega el modal al fondo
			fondo.appendChild(modal);

			// Agrega el fondo al body
			document.body.appendChild(fondo);

			// Cierra al hacer click fuera del modal
			fondo.addEventListener('click', function (e) {
				if (e.target === fondo) {
					cerrarVentana();
				}
			});
		}

		function mostrarVentanaPotencia() {
			// Crea el fondo oscuro
			const fondo = document.createElement('div');
			fondo.style.position = 'fixed';
			fondo.style.top = 0;
			fondo.style.left = 0;
			fondo.style.width = '100vw';
			fondo.style.height = '100vh';
			fondo.style.backgroundColor = 'transparent';
			fondo.style.display = 'flex';
			fondo.style.alignItems = 'center';
			fondo.style.justifyContent = 'center';
			fondo.style.zIndex = 1000;

			// Crea la ventana modal
			const modal = document.createElement('div');
			modal.style.background = '#29708f'; // Cambiado a igual que cilindrada
			modal.style.padding = '2rem';
			modal.style.borderRadius = '8px';
			modal.style.boxShadow = '0 2px 8px rgba(0,0,0,0.3)';
			modal.style.textAlign = 'center';

			// Label
			const label = document.createElement('label');
			label.textContent = 'POTENCIA';
			label.style.display = 'block';
			label.style.marginBottom = '1rem';

			// Input tipo text
			const input = document.createElement('input');
			input.type = 'text';
			input.placeholder = `${bajaPotencia.toLocaleString('es-AR')}w a ${altaPotencia.toLocaleString('es-AR')}w`;
			input.style.marginBottom = '1rem';
			input.style.width = '100%'; // M√°s ancho para el placeholder
			input.style.textAlign = 'center';
			input.style.display = 'block';
			input.style.marginLeft = 'auto';
			input.style.marginRight = 'auto';
			input.style.fontSize = 'clamp(1rem, 2.5vw, 1.2rem)';

			// Evento para formatear el input solo con n√∫meros y agregar " w"
			input.addEventListener('input', function () {
				let valor = input.value.replace(/\./g, '').replace(/\s*w\s*$/i, ''); // Quita puntos y w (con o sin espacios)
				valor = valor.replace(/\D/g, ''); // Solo n√∫meros
				if (valor) {
					let valorFormateado = parseInt(valor, 10).toLocaleString('es-AR');
					input.value = valorFormateado + 'w'; // <-- Sin espacio antes de w
					input.setSelectionRange(input.value.length - 1, input.value.length - 1);
				} else {
					input.value = '';
				}
			});

			// Bot√≥n
			const btn = document.createElement('button');
			btn.textContent = 'Aceptar';
			btn.onclick = function () {
				let valorPotencia = parseInt(input.value.replace(/\./g, '').replace(/\s*W\s*$/i, ''), 10);
				if (
					!isNaN(valorPotencia) &&
					valorPotencia >= bajaPotencia &&
					valorPotencia <= altaPotencia
				) {
					window.valorPotencia = valorPotencia; // Guarda el valor globalmente
					// console.log("mostrarVentanaPotencia/valorPotencia:", valorPotencia);
					document.body.removeChild(fondo);
					removerListeners();
				} else {
					input.value = '';
					input.focus();
				}
			};

			// Copia los estilos del bot√≥n .boton-calcular
			btn.style.background = '#c3baba';
			btn.style.color = '#fff';
			btn.style.fontWeight = 'bold';
			btn.style.fontSize = 'clamp(1rem, 3vw, 2rem)';
			btn.style.padding = '0.85rem 2.2rem';
			btn.style.border = 'none';
			btn.style.borderRadius = '2rem';
			btn.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.1)';
			btn.style.cursor = 'pointer';
			btn.style.transition = 'background 0.3s, transform 0.2s';
			btn.style.marginTop = '1rem';
			btn.style.marginBottom = '0.5rem';
			btn.style.width = 'auto';
			btn.style.minWidth = '150px';

			// Efecto hover y focus
			btn.addEventListener('mouseenter', function () {
				btn.style.background = '#68a6e7';
				btn.style.transform = 'scale(1.2)';
			});
			btn.addEventListener('mouseleave', function () {
				btn.style.background = '#c3baba';
				btn.style.transform = 'none';
			});
			btn.addEventListener('focus', function () {
				btn.style.background = '#68a6e7';
				btn.style.transform = 'scale(1.2)';
			});
			btn.addEventListener('blur', function () {
				btn.style.background = '#c3baba';
				btn.style.transform = 'none';
			});

			// Funci√≥n para cerrar la ventana y remover listeners
			function cerrarVentana() {
				if (document.body.contains(fondo)) {
					document.body.removeChild(fondo);
					removerListeners();
				}
			}

			// Listeners para cerrar la ventana si el usuario se posiciona en otros campos
			function listenerCerrar() {
				cerrarVentana();
			}

			// Tambi√©n cerrar al cambiar el select de tipo de combustible
			function listenerChangeCombustible() {
				cerrarVentana();
			}

			// Agrega los listeners de focus
			document.getElementById('montoPrestamo').addEventListener('focus', listenerCerrar);
			document.getElementById('tipoVehiculo').addEventListener('focus', listenerCerrar);
			document.getElementById('tipoCombustible').addEventListener('focus', listenerCerrar);
			// Agrega el listener de cambio
			document.getElementById('tipoCombustible').addEventListener('change', listenerChangeCombustible);

			// Remueve todos los listeners al cerrar
			function removerListeners() {
				document.getElementById('montoPrestamo').removeEventListener('focus', listenerCerrar);
				document.getElementById('tipoVehiculo').removeEventListener('focus', listenerCerrar);
				document.getElementById('tipoCombustible').removeEventListener('focus', listenerCerrar);
				document.getElementById('tipoCombustible').removeEventListener('change', listenerChangeCombustible);
			}

			// Agrega los elementos al modal
			modal.appendChild(label);
			modal.appendChild(input);
			modal.appendChild(document.createElement('br'));
			modal.appendChild(btn);

			// Agrega el modal al fondo
			fondo.appendChild(modal);

			// Agrega el fondo al body
			document.body.appendChild(fondo);

			// Cierra al hacer click fuera del modal
			fondo.addEventListener('click', function (e) {
				if (e.target === fondo) {
					cerrarVentana();
				}
			});
		}

		function mostrarCondiciones() {
			const selectCondicion = document.getElementById('condicion');
			const vehiculoSeleccionado = document.getElementById('tipoVehiculo').value;
			const combustibleSeleccionado = document.getElementById('tipoCombustible').value;

			if (!vehiculoSeleccionado || !combustibleSeleccionado) {
				limpiarSelect('condicion', 'Opciones');
				return;
			}

			// Mantener el placeholder
			let opcionesHTML = '<option value="" disabled selected>Opciones</option>';
			
			// Obtener las condiciones seg√∫n el tipo de veh√≠culo usando las constantes
			let condicionesDisponibles = [];
			if (vehiculoSeleccionado === 'auto') {
				condicionesDisponibles = condicionesAuto;
			} else if (vehiculoSeleccionado === 'utilitario') {
				condicionesDisponibles = condicionesUtilitario;
			} else if (vehiculoSeleccionado === 'moto') {
				condicionesDisponibles = condicionesMoto;
			} else if (vehiculoSeleccionado === 'cuatriciclo') {
				condicionesDisponibles = condicionesCuatriciclo;
			}
			
			// Agregar las opciones disponibles din√°micamente
			condicionesDisponibles.forEach(condicion => {
				opcionesHTML += `<option value="${condicion}">${condicion}</option>`;
			});
			
			selectCondicion.innerHTML = opcionesHTML;
		}

		function mostrarAnios() {
			const selectAnio = document.getElementById('anio');
			const vehiculoSeleccionado = document.getElementById('tipoVehiculo').value;
			const combustibleSeleccionado = document.getElementById('tipoCombustible').value;
			const condicionSeleccionada = document.getElementById('condicion').value;

			if (!vehiculoSeleccionado || !combustibleSeleccionado || !condicionSeleccionada) {
				limpiarSelect('anio', 'Opciones');
				return;
			}

			// Limpia las opciones actuales
			selectAnio.innerHTML = '';
			// Opci√≥n por defecto
			const optionDefault = document.createElement('option');
			optionDefault.value = '';
			optionDefault.text = 'Opciones';
			optionDefault.disabled = true;
			optionDefault.selected = true;
			selectAnio.appendChild(optionDefault);

			let aniosFiltrados = [];

			// AUTO
			if (vehiculoSeleccionado === 'auto') {
				if (combustibleSeleccionado === 'comun' || combustibleSeleccionado === 'nafta') {
					if (condicionSeleccionada === '0km') {
						aniosFiltrados = opcionesAnios.slice(0, 2);
					} else {
						aniosFiltrados = opcionesAnios.slice(0, aniosAutos + 1);
					}
				} else {
					if (condicionSeleccionada === '0km') {
						aniosFiltrados = opcionesAnios.slice(0, 2);
					} else {
						aniosFiltrados = opcionesAnios.slice(0, 4);
					}
				}
			}
			// UTILITARIO
			else if (vehiculoSeleccionado === 'utilitario') {
				if (combustibleSeleccionado === 'comun' || combustibleSeleccionado === 'nafta') {
					if (condicionSeleccionada === '0km') {
						aniosFiltrados = opcionesAnios.slice(0, 2);
					} else if (condicionSeleccionada === 'Usado') {
						aniosFiltrados = opcionesAnios.slice(0, aniosUtilitario + 1);
					} else {
						aniosFiltrados = opcionesAnios.slice(0, 4);
					}
				} else {
					if (condicionSeleccionada === '0km') {
						aniosFiltrados = opcionesAnios.slice(0, 2);
					} else {
						aniosFiltrados = opcionesAnios.slice(0, 4);
					}
				}
			}
			// MOTO
			else if (vehiculoSeleccionado === 'moto') {
				if (combustibleSeleccionado === 'nafta') {
					if (!window.valorCilindrada || isNaN(window.valorCilindrada) || window.valorCilindrada < bajaCilindrada) {
						limpiarSelect('anio', 'Opciones');
						return;
					}
					if (window.valorCilindrada >= altaCilindrada) {
						aniosFiltrados = opcionesAnios.slice(0, aniosMotos + 1); // 0 a aniosMotos
					} else if (window.valorCilindrada >= mediaCilindrada) {
						aniosFiltrados = opcionesAnios.slice(0, 4); // 0 a 3
					} else {
						aniosFiltrados = [opcionesAnios[0]]; // solo el primero
					}
				} else if (combustibleSeleccionado === 'electricoMoto') {
					if (!window.valorPotencia || isNaN(window.valorPotencia) || window.valorPotencia < bajaPotencia) {
						limpiarSelect('anio', 'Opciones');
						return;
					}
					aniosFiltrados = [opcionesAnios[0]]; // solo el primero
				} else {
					limpiarSelect('anio', 'Opciones');
					return;
				}
			}
			// CUATRICICLO
			else if (vehiculoSeleccionado === 'cuatriciclo') {
				if (combustibleSeleccionado === 'nafta') {
					aniosFiltrados = opcionesAnios.slice(0, aniosCuatri + 1); // 0 a aniosCuatri
				} else {
					aniosFiltrados = [opcionesAnios[0]]; // solo el primero
				}
			}

			// Agrega las opciones filtradas
			aniosFiltrados.forEach(anio => {
				const option = document.createElement('option');
				option.value = anio;
				option.text = anio;
				selectAnio.appendChild(option);
			});

			document.getElementById('anio').onchange = function () {
				anioSeleccionado = Number(this.value);
				// console.log('mostrarAnios/anioSeleccionado:', anioSeleccionado);
			};
		}

		function mostrarPlazos() {
			const selectPlazo = document.getElementById('plazo');
			const vehiculoSeleccionado = document.getElementById('tipoVehiculo').value;
			const combustibleSeleccionado = document.getElementById('tipoCombustible').value;
			const anioSeleccionado = Number(document.getElementById('anio').value);

			if (!vehiculoSeleccionado || !combustibleSeleccionado || !anioSeleccionado) {
				limpiarSelect('plazo', 'Opciones');
				return;
			}

			// Limpia las opciones actuales
			selectPlazo.innerHTML = '';
			// Opci√≥n por defecto
			const optionDefault = document.createElement('option');
			optionDefault.value = '';
			optionDefault.text = 'Opciones';
			optionDefault.disabled = true;
			optionDefault.selected = true;
			selectPlazo.appendChild(optionDefault);

			let plazosFiltrados = [];

			// AUTO
			if (vehiculoSeleccionado === 'auto') {
				const condicionSeleccionada = document.getElementById('condicion').value;
				if ((combustibleSeleccionado === 'comun' || combustibleSeleccionado === 'nafta' || combustibleSeleccionado === 'electricoAuto') && condicionSeleccionada === '0km') {
					// Todos los valores de opcionesPlazos excepto el de la posici√≥n 1
					plazosFiltrados = opcionesPlazos.filter((_, i) => i !== 1);
				} else if ((combustibleSeleccionado === 'comun' || combustibleSeleccionado === 'nafta' || combustibleSeleccionado === 'electricoAuto') && condicionSeleccionada === 'Usado') {
					// Determinar el √≠ndice del a√±o seleccionado en opcionesAnios
					const indexAnio = opcionesAnios.indexOf(anioSeleccionado);
					if (indexAnio >= 0 && indexAnio <= 7) {
						plazosFiltrados = opcionesPlazos.filter((_, i) => i <= 5 && i !== 1);
					} else if (indexAnio === 8) {
						plazosFiltrados = opcionesPlazos.filter((_, i) => i <= 4 && i !== 1);
					} else if (indexAnio === 9) {
						plazosFiltrados = opcionesPlazos.filter((_, i) => i <= 3 && i !== 1);
					} else {
						plazosFiltrados = opcionesPlazos.filter((_, i) => i <= 3 && i !== 1);
					}
				} else {
					plazosFiltrados = opcionesPlazos.filter((_, i) => i <= 3 && i !== 1);
				}
			}
			// UTILITARIO
			else if (vehiculoSeleccionado === 'utilitario') {
				const condicionSeleccionada = document.getElementById('condicion').value;
				if ((combustibleSeleccionado === 'comun' || combustibleSeleccionado === 'nafta' || combustibleSeleccionado === 'electricoAuto') && condicionSeleccionada === 'Usado') {
					const indexAnio = opcionesAnios.indexOf(anioSeleccionado);
					if (indexAnio >= 0 && indexAnio <= 7) {
						plazosFiltrados = opcionesPlazos.filter((_, i) => i <= 5 && i !== 1);
					} else if (indexAnio === 8) {
						plazosFiltrados = opcionesPlazos.filter((_, i) => i <= 4 && i !== 1);
					} else if (indexAnio === 9) {
						plazosFiltrados = opcionesPlazos.filter((_, i) => i <= 3 && i !== 1);
					} else {
						plazosFiltrados = opcionesPlazos.filter((_, i) => i <= 3 && i !== 1);
					}
				} else if ((combustibleSeleccionado === 'comun' || combustibleSeleccionado === 'nafta' || combustibleSeleccionado === 'electricoAuto') && condicionSeleccionada === '0km') {
					plazosFiltrados = opcionesPlazos.filter((_, i) => i !== 1);
				} else {
					plazosFiltrados = opcionesPlazos.filter((_, i) => i <= 3 && i !== 1);
				}
			}
			// MOTO
			else if (vehiculoSeleccionado === 'moto') {
				if (combustibleSeleccionado === 'nafta') {
					if (anioSeleccionado >= opcionesAnios[4]) {
						plazosFiltrados = [...opcionesPlazos];
					} else if (anioSeleccionado === opcionesAnios[5]) {
						plazosFiltrados = opcionesPlazos.slice(0, 5);
					} else {
						plazosFiltrados = opcionesPlazos.slice(0, 4);
					}
				} else {
					plazosFiltrados = [...opcionesPlazos];
				}
			}
			// CUATRICICLO
			else if (vehiculoSeleccionado === 'cuatriciclo') {
				if (combustibleSeleccionado === 'nafta') {
					if (anioSeleccionado >= opcionesAnios[3]) {
						plazosFiltrados = [...opcionesPlazos];
					} else {
						plazosFiltrados = [...opcionesPlazos];
					}
				} else {
					plazosFiltrados = [...opcionesPlazos];
				}
			}

			// Agrega las opciones filtradas
			plazosFiltrados.forEach(plazo => {
				const option = document.createElement('option');
				option.value = plazo;
				option.text = `${plazo} meses`;
				selectPlazo.appendChild(option);
			});

			document.getElementById('plazo').onchange = function () {
				plazoSeleccionado = Number(this.value);
				// console.log('mostrarPlazos/plazoSeleccionado:', plazoSeleccionado);
			};
		}

		function mostrarTasasInteres() {
			console.log('=== EJECUTANDO mostrarTasasInteres ===');
			const selectTasa = document.getElementById('tasaInteres');
			const vehiculoSeleccionado = document.getElementById('tipoVehiculo').value;
			const combustibleSeleccionado = document.getElementById('tipoCombustible').value;
			const anioSeleccionado = Number(document.getElementById('anio').value);
			const plazoSeleccionado = Number(document.getElementById('plazo').value);

			console.log('Valores recibidos:', {
				vehiculo: vehiculoSeleccionado,
				combustible: combustibleSeleccionado,
				anio: anioSeleccionado,
				plazo: plazoSeleccionado
			});

			if (!vehiculoSeleccionado || !combustibleSeleccionado || !anioSeleccionado || !plazoSeleccionado) {
				console.log('SALIENDO: Faltan valores requeridos');
				limpiarSelect('tasaInteres', 'Opciones');
				return;
			}

			// Limpia las opciones actuales
			selectTasa.innerHTML = '';
			// Opci√≥n por defecto
			const optionDefault = document.createElement('option');
			optionDefault.value = '';
			optionDefault.text = 'Opciones';
			optionDefault.disabled = true;
			optionDefault.selected = true;
			selectTasa.appendChild(optionDefault);

			// Busca el √≠ndice del plazo seleccionado
			const indexPlazo = opcionesPlazos.indexOf(plazoSeleccionado);
			let tasasOpciones = [];

			console.log('IndexPlazo:', indexPlazo, 'de opcionesPlazos:', opcionesPlazos);

			// Mostrar ambas opciones si corresponde tasa UVA
			if (vehiculoSeleccionado === 'auto' || vehiculoSeleccionado === 'utilitario') {
				console.log('PROCESANDO AUTO/UTILITARIO');
				// Siempre mostrar tasa fija si hay plazo v√°lido
				if (indexPlazo !== -1) {
					let tasaFija;
					if (vehiculoSeleccionado === 'auto') {
						if (combustibleSeleccionado === 'comun' || combustibleSeleccionado === 'nafta') {
							tasaFija = opcionesTasasComunesAutos[indexPlazo];
						} else {
							tasaFija = opcionesTasasElectricos[indexPlazo];
						}
					} else if (vehiculoSeleccionado === 'utilitario') {
						if (combustibleSeleccionado === 'comun' || combustibleSeleccionado === 'nafta') {
							tasaFija = opcionesTasasComunesAutos[indexPlazo];
						} else {
							tasaFija = opcionesTasasElectricos[indexPlazo];
						}
					}
					console.log('Tasa fija calculada:', tasaFija);
					if (tasaFija !== undefined) {
						tasasOpciones.push({ valor: tasaFija, texto: `${tasaFija.toFixed(1).replace('.', ',')}% Fija` });
					}
				}
				// Solo mostrar UVA si se cumplen las condiciones
				if (
					anioSeleccionado >= inicioUvaAutos &&
					plazoSeleccionado <= mesesUvaAutos &&
					indexPlazo !== -1
				) {
					const tasaUva = tasaUvaAutos[indexPlazo];
					tasasOpciones.push({ valor: tasaUva, texto: `${tasaUva.toFixed(1).replace('.', ',')}% UVA` });
				}
			} else {
				// Siempre mostrar tasa fija si hay plazo v√°lido
				if (indexPlazo !== -1) {
					let tasaFija;
					if (
						(vehiculoSeleccionado === 'moto' || vehiculoSeleccionado === 'cuatriciclo') && combustibleSeleccionado === 'nafta'
					) {
						tasaFija = opcionesTasaComunesMotos[indexPlazo];
					} else if (
						(vehiculoSeleccionado === 'moto' || vehiculoSeleccionado === 'cuatriciclo') && (combustibleSeleccionado === 'electrico' || combustibleSeleccionado === 'electricoMoto')
					) {
						tasaFija = opcionesTasasElectricosMotos[indexPlazo];
					} else if (combustibleSeleccionado === 'nafta') {
						tasaFija = opcionesTasasComunes[indexPlazo];
					} else {
						tasaFija = opcionesTasasElectricos[indexPlazo];
					}
					if (tasaFija !== undefined) {
						tasasOpciones.push({ valor: tasaFija, texto: `${tasaFija.toFixed(1).replace('.', ',')}% Fija` });
					}
				}
				// Solo mostrar UVA si se cumplen las condiciones
				if (
					anioSeleccionado >= inicioUvaMotos &&
					plazoSeleccionado <= mesesUvaMotos &&
					indexPlazo !== -1 &&
					(
						(vehiculoSeleccionado === 'moto' && combustibleSeleccionado === 'nafta' && window.valorCilindrada >= mediaCilindrada) ||
						(vehiculoSeleccionado === 'moto' && combustibleSeleccionado === 'electricoMoto' && window.valorPotencia >= bajaPotencia) ||
						vehiculoSeleccionado === 'cuatriciclo'
					)
				) {
					const tasaUva = tasaUvaAutos[indexPlazo];
					tasasOpciones.push({ valor: tasaUva, texto: `${tasaUva.toFixed(1).replace('.', ',')}% UVA` });
				}
			}

			// Ordena las tasas de menor a mayor por valor num√©rico
			tasasOpciones.sort((a, b) => a.valor - b.valor);

			console.log('Tasas generadas:', tasasOpciones);
			console.log('Total de opciones a agregar:', tasasOpciones.length);

			// Agrega las opciones ordenadas al select
			tasasOpciones.forEach(obj => {
				const option = document.createElement('option');
				option.value = obj.valor;
				option.text = obj.texto;
				selectTasa.appendChild(option);
				console.log('Opci√≥n agregada:', obj.texto, 'con valor:', obj.valor);
			});

			console.log('HTML final del select:', selectTasa.innerHTML);
			console.log('=== FIN mostrarTasasInteres ===');

			document.getElementById('tasaInteres').onchange = function () {
				tasaSeleccionada = Number(this.value);
				// console.log('mostrarTasasInteres/tasaSeleccionada:', tasaSeleccionada);
			};
		}

		function limpiarTasasInteres() {
			const selectTasa = document.getElementById('tasaInteres');
			selectTasa.innerHTML = '';
			const optionDefault = document.createElement('option');
			optionDefault.value = '';
			optionDefault.text = 'Opciones';
			optionDefault.disabled = true;
			optionDefault.selected = true;
			selectTasa.appendChild(optionDefault);
			selectTasa.classList.remove('select-con-valor'); // Remover color verde
			// Reinicia la variable global
			tasaSeleccionada = null; // <-- Cambia '' por null
		}

		function limpiarPlazos() {
			const selectPlazo = document.getElementById('plazo');
			selectPlazo.innerHTML = '';
			const optionDefault = document.createElement('option');
			optionDefault.value = '';
			optionDefault.text = 'Opciones';
			optionDefault.disabled = true;
			optionDefault.selected = true;
			selectPlazo.appendChild(optionDefault);
			selectPlazo.classList.remove('select-con-valor'); // Remover color verde
		}

		function limpiarCondicion() {
			const selectCondicion = document.getElementById('condicion');
			selectCondicion.value = '';
			selectCondicion.classList.remove('select-con-valor');
		}

		// Agrega esta funci√≥n al script
		function validarFormulario() {
			const inputMonto = document.getElementById('montoPrestamo');
			const selectVehiculo = document.getElementById('tipoVehiculo');
			const selectCombustible = document.getElementById('tipoCombustible');
			const selectAnio = document.getElementById('anio');
			const selectPlazo = document.getElementById('plazo');
			const selectTasa = document.getElementById('tasaInteres');
			const boton = document.querySelector('button[type="button"]');

			let valor = inputMonto.value.replace(/[^0-9]/g, '');
			let valorNumerico = parseInt(valor, 10);

			const validado =
				!isNaN(valorNumerico) && valorNumerico >= montoMinimo &&
				selectVehiculo.value &&
				selectCombustible.value &&
				selectAnio.value &&
				selectPlazo.value &&
				selectTasa.value;

			boton.disabled = !validado;
		}

		// Funci√≥n para limpiar todos los selects siguientes en la secuencia
		function limpiarSelectsSiguientes(selectActual) {
			const ordenSelects = ['tipoVehiculo', 'tipoCombustible', 'condicion', 'anio', 'plazo', 'tasaInteres'];
			const indiceActual = ordenSelects.indexOf(selectActual);
			
			// Para tipoVehiculo, no limpiar tipoCombustible ya que actualizarOpcionesCombustible lo maneja
			let inicioLimpieza = indiceActual + 1;
			if (selectActual === 'tipoVehiculo') {
				inicioLimpieza = indiceActual + 2; // Saltar tipoCombustible
			}
			
			// Limpia todos los selects siguientes al actual
			for (let i = inicioLimpieza; i < ordenSelects.length; i++) {
				const selectId = ordenSelects[i];
				if (selectId === 'condicion') {
					limpiarCondicion();
					valorPrevioCondicion = ''; // Resetear valor previo
				} else if (selectId === 'plazo') {
					limpiarPlazos();
					valorPrevioPlazo = ''; // Resetear valor previo
				} else if (selectId === 'tasaInteres') {
					limpiarTasasInteres();
				} else if (selectId === 'anio') {
					limpiarSelect(selectId, 'Opciones');
					valorPrevioAnio = ''; // Resetear valor previo
				} else {
					limpiarSelect(selectId, 'Opciones');
				}
			}
			
			// Resetear valores previos de combustible si se limpia desde veh√≠culo
			if (selectActual === 'tipoVehiculo') {
				valorPrevioCombustible = '';
			}
		}

		// Llama a validarFormulario en cada cambio relevante
		document.getElementById('montoPrestamo').addEventListener('input', validarFormulario);
		
		// Variables para rastrear valores previos y evitar limpiezas innecesarias
		let valorPrevioVehiculo = '';
		let valorPrevioCombustible = '';
		let valorPrevioCondicion = '';
		let valorPrevioAnio = '';
		let valorPrevioPlazo = '';

		// Event listeners que limpian selects siguientes autom√°ticamente
		document.getElementById('tipoVehiculo').addEventListener('change', function() {
			mostrarValorTipoVehiculo(); // Funci√≥n necesaria para el comportamiento del veh√≠culo
			// NO llamar mostrarAnios() aqu√≠ - el a√±o debe quedarse vac√≠o hasta el focus
			validarFormulario();
			
			// Solo limpiar si realmente cambi√≥ el valor
			if (this.value !== '' && this.value !== valorPrevioVehiculo) {
				limpiarSelectsSiguientes('tipoVehiculo');
				valorPrevioVehiculo = this.value;
			}
		});
		
		document.getElementById('tipoCombustible').addEventListener('change', function() {
			mostrarValorTipoCombustible(); // Funci√≥n necesaria para el comportamiento del combustible
			
			// NO cargar opciones de condici√≥n autom√°ticamente - debe quedarse vac√≠o hasta el focus
			
			// NO llamar mostrarAnios() aqu√≠ - el a√±o debe quedarse vac√≠o hasta el focus
			validarFormulario();
			
			// Solo limpiar si realmente cambi√≥ el valor
			if (this.value !== '' && this.value !== valorPrevioCombustible) {
				limpiarSelectsSiguientes('tipoCombustible');
				valorPrevioCombustible = this.value;
			}
		});
		
		document.getElementById('condicion').addEventListener('change', function() {
			validarFormulario();
			
			// Solo limpiar si realmente cambi√≥ el valor
			if (this.value !== '' && this.value !== valorPrevioCondicion) {
				limpiarSelectsSiguientes('condicion');
				valorPrevioCondicion = this.value;
			}
		});
		
		document.getElementById('anio').addEventListener('change', function() {
			mostrarPlazos(); // Regenera las opciones de plazo bas√°ndose en las selecciones actuales
			validarFormulario();
			
			// Solo limpiar si realmente cambi√≥ el valor
			if (this.value !== '' && this.value !== valorPrevioAnio) {
				limpiarSelectsSiguientes('anio');
				valorPrevioAnio = this.value;
			}
		});
		
		document.getElementById('plazo').addEventListener('change', function() {
			mostrarTasasInteres(); // Regenera las opciones de tasa bas√°ndose en las selecciones actuales
			validarFormulario();
			
			// Solo limpiar si realmente cambi√≥ el valor
			if (this.value !== '' && this.value !== valorPrevioPlazo) {
				limpiarSelectsSiguientes('plazo');
				valorPrevioPlazo = this.value;
			}
		});
		
		document.getElementById('tasaInteres').addEventListener('change', validarFormulario);

		// Deshabilita el bot√≥n al cargar la p√°gina
		window.addEventListener('DOMContentLoaded', function () {
			document.querySelector('button[type="button"]').disabled = true;

			// Actualiza la frase de AUTOS con los valores de las constantes
			const autosAnio = document.getElementById('autos-anio');
			const autosMeses = document.getElementById('autos-meses');
			if (autosAnio && autosMeses) {
				autosAnio.textContent = inicioUvaAutos;
				autosMeses.textContent = mesesUvaAutos;
			}
			// Actualiza la frase de MOTOS con los valores de las constantes
			const motosCilindrada = document.getElementById('motos-cilindrada');
			const motosAnio = document.getElementById('motos-anio');
			const motosMeses = document.getElementById('motos-meses');
			if (motosCilindrada && motosAnio && motosMeses) {
				motosCilindrada.textContent = cilindradaUvaMotos;
				motosAnio.textContent = inicioUvaMotos;
				motosMeses.textContent = mesesUvaMotos;
			}
		});

		document.querySelector('form').onsubmit = function (e) {
			e.preventDefault(); // Evita el env√≠o del formulario

			// Obtiene el valor num√©rico del monto ingresado
			const inputMonto = document.getElementById('montoPrestamo');
			let valor = inputMonto.value.replace(/[^0-9]/g, '');
			let valorNumerico = parseInt(valor, 10);

			// Verifica que todos los valores necesarios est√©n presentes
			if (
				!isNaN(valorNumerico) &&
				plazoSeleccionado &&
				tasaSeleccionada
			) {
				calcularCuota(valorNumerico, plazoSeleccionado, tasaSeleccionada);
			} else {
				// console.log('Por favor, complet√° todos los campos antes de calcular la cuota.');
			}
		};

		function calcularCuota(valorNumerico, plazoSeleccionado, tasaSeleccionada) {
			// Convierte la tasa anual a mensual y a decimal
			const monto = valorNumerico;
			const plazo = plazoSeleccionado;
			const tasa = tasaSeleccionada;

			const tasaMensual = (tasaSeleccionada / 12) / 100;
			const montoAjustado = Math.round(monto / (1 - (gastos / 100)));

			const cuota = Math.ceil((montoAjustado * tasaMensual) / (1 - Math.pow(1 + tasaMensual, -plazo)));
			const intereses = Math.ceil(montoAjustado * tasaMensual);
			const ivaSobreIntereses = Math.ceil(intereses * (IVA / 100));
			const totalCuota = cuota + ivaSobreIntereses;

			const divResultado = document.getElementById('resultadoCuota');
			const contenedorResultado = document.querySelector('.resultado-stack');
			if (divResultado && contenedorResultado) {
				divResultado.innerHTML = `
					<div class="resultado-cuota-total">Total Cuota $ ${totalCuota.toLocaleString('es-AR')}</div>
					<p class="resultado-cuota-leyenda">Valor de la cuota sujeto a aprobaci√≥n crediticia de acuerdo a pautas de la entidad interviniente.</p>
					<button type="button" class="resultado-preaprobado" id="btnSolicitarPreaprobado">Solicitar Preaprobado</button>
				`;
				divResultado.style.top = '0';
				divResultado.style.display = 'block';
				const botonCalcular = document.querySelector('.boton-calcular');
				if (botonCalcular) {
					botonCalcular.style.visibility = 'hidden';
				}
				configurarSolicitudPreaprobado();
			}

			// console.log('Tasa: ',tasaMensual);
			// console.log('monto: ',montoAjustado);
			// console.log('cuota: ',cuota);
			// console.log('Intereses: ', intereses);
			// console.log('IVA:', ivaSobreIntereses);

			// Elimina el console.log final
			return totalCuota;
		}

		function calcularDesdeBoton() {
			// Quita el foco del bot√≥n para que vuelva a su tama√±o normal
			document.activeElement.blur();

			// Obtiene el valor num√©rico del monto ingresado
			const inputMonto = document.getElementById('montoPrestamo');
			let valor = inputMonto.value.replace(/[^0-9]/g, '');
			let valorNumerico = parseInt(valor, 10);

			if (
				!isNaN(valorNumerico) &&
				plazoSeleccionado &&
				tasaSeleccionada
			) {
				calcularCuota(valorNumerico, plazoSeleccionado, tasaSeleccionada);
			} else {
				// console.log('Por favor, complet√° todos los campos antes de calcular la cuota.');
			}
		}

		function configurarSolicitudPreaprobado() {
			const boton = document.getElementById('btnSolicitarPreaprobado');
			if (boton) {
				boton.addEventListener('click', abrirModalDatosPreaprobado);
			}
		}

		function abrirModalDatosPreaprobado() {
			const overlay = document.getElementById('modalDatosPreaprobado');
			if (!overlay) return;
			overlay.setAttribute('aria-hidden', 'false');
			restaurarEstadoPreaprobado();
			posicionarModalDatosPreaprobado(overlay);
		}

		function cerrarModalDatosPreaprobado() {
			const overlay = document.getElementById('modalDatosPreaprobado');
			if (!overlay) return;
			overlay.setAttribute('aria-hidden', 'true');
			overlay.style.paddingTop = '';
			overlay.style.top = '';
		}

		function posicionarModalDatosPreaprobado(overlay) {
			const contenedorCalculadora = document.querySelector('#calculadora .calculadora-container');
			const headingServicios = document.querySelector('#servicios h2');
			let offset = window.scrollY + 20;

			if (contenedorCalculadora) {
				const rect = contenedorCalculadora.getBoundingClientRect();
				offset = Math.max(window.scrollY + rect.bottom + 20, offset);
			} else if (headingServicios) {
				const distancia = headingServicios.getBoundingClientRect().top;
				offset = Math.max(window.scrollY + distancia, offset);
			}

			overlay.style.top = `${offset}px`;
			overlay.style.paddingTop = '0';
		}

		function inicializarPersistenciaFormularioPreaprobado(form) {
			if (!form) return;
			camposPersistentesPreaprobado.forEach(id => {
				const campo = form.querySelector(`#${id}`);
				if (!campo) return;
				campo.addEventListener('input', function () {
					estadoPreaprobadoPersistente[id] = campo.value;
				});
			});
		}

		function restaurarEstadoPreaprobado() {
			camposPersistentesPreaprobado.forEach(id => {
				const campo = document.getElementById(id);
				if (!campo) return;
				if (estadoPreaprobadoPersistente[id] !== undefined) {
					campo.value = estadoPreaprobadoPersistente[id];
				}
			});
		}

		function obtenerValorCampoPreaprobado(id) {
			const campo = document.getElementById(id);
			if (!campo) return 'No informado';
			if (campo.type === 'file') {
				return campo.files && campo.files.length ? campo.files[0].name : 'Sin archivo';
			}
			const valor = (campo.value || '').trim();
			return valor || 'No informado';
		}

		function construirResumenSolicitudPreaprobado() {
			const camposTexto = [
				{ id: 'tipoSolicitante', label: 'Nombre o Agencia' },
				{ id: 'telefonoContacto', label: 'Tel√©fono de Contacto' },
				{ id: 'mailContacto', label: 'Mail de Contacto' },
				{ id: 'telefonoCliente', label: 'Tel√©fono Cliente' },
				{ id: 'mailCliente', label: 'Mail Cliente' }
			];

			const camposArchivo = [
				{ id: 'dniTitularFrente', label: 'DNI Titular Frente' },
				{ id: 'dniTitularDorso', label: 'DNI Titular Dorso' },
				{ id: 'tituloFrente', label: 'T√≠tulo Frente/CAT' },
				{ id: 'tituloDorso', label: 'T√≠tulo Dorso' },
				{ id: 'capturaSimulador', label: 'Captura Simulador' },
				{ id: 'conyugeFrente', label: 'DNI C√≥nyuge Frente' },
				{ id: 'conyugeDorso', label: 'DNI C√≥nyuge Dorso' },
				{ id: 'cotitularFrente', label: 'DNI Cotitular Frente' },
				{ id: 'cotitularDorso', label: 'DNI Cotitular Dorso' }
			];

			const seccionTextos = camposTexto.map(({ id, label }) => `${label}: ${obtenerValorCampoPreaprobado(id)}`);
			const seccionArchivos = camposArchivo.map(({ id, label }) => `${label}: ${obtenerValorCampoPreaprobado(id)}`);

			return [
				'Se registr√≥ una nueva solicitud de datos preaprobado.',
				'',
				'Datos de contacto:',
				...seccionTextos,
				'',
				'Listado de archivos adjuntados (se deben cargar manualmente en el correo):',
				...seccionArchivos
			].join('\n');
		}

		function enviarSolicitudPreaprobadoPorCorreo() {
			const cuerpo = construirResumenSolicitudPreaprobado();
			const asunto = 'Nueva Solicitud Datos Preaprobado';
			const destinatario = 'datosrecibidos@tuprendario.com';
			const enlaceMailto = `mailto:${destinatario}?subject=${encodeURIComponent(asunto)}&body=${encodeURIComponent(cuerpo)}`;
			window.location.href = enlaceMailto;
		}

		function mostrarAvisoPreaprobado(mensaje, duracion = 750) {
			return new Promise(resolve => {
				const toast = document.getElementById('modalPreaprobadoToast');
				if (!toast) {
					resolve();
					return;
				}
				toast.textContent = mensaje;
				toast.classList.add('is-visible');
				setTimeout(() => {
					toast.classList.remove('is-visible');
					resolve();
				}, duracion);
			});
		}

		// Agrega esto al final del <script>
		['montoPrestamo', 'tipoVehiculo', 'tipoCombustible', 'anio', 'plazo', 'tasaInteres'].forEach(id => {
			const el = document.getElementById(id);
			if (el) {
				el.addEventListener('focus', ocultarResultadoCuota);
			}
		});

		function ocultarResultadoCuota() {
			const divResultado = document.getElementById('resultadoCuota');
			divResultado.style.display = 'none';
			const botonCalcular = document.querySelector('.boton-calcular');
			if (botonCalcular) {
				botonCalcular.style.visibility = 'visible';
			}
		}

		window.addEventListener('DOMContentLoaded', function () {
			const inputMonto = document.getElementById('montoPrestamo');
			if (inputMonto) {
				inputMonto.placeholder = `Ingres√° Monto (M√≠n. $${montoMinimoTexto})`;
			}
			const contenedorCalculadora = document.querySelector('.calculadora-container');
			if (contenedorCalculadora) {
				contenedorCalculadora.addEventListener('click', function (event) {
					const panelCuota = document.getElementById('resultadoCuota');
					if (!panelCuota || panelCuota.style.display === 'none') {
						return;
					}
					if (event.target.closest('.boton-calcular')) {
						return;
					}
					if (!panelCuota.contains(event.target)) {
						ocultarResultadoCuota();
					}
				});
			}
		});

		// Agrega esta funci√≥n utilitaria si no la tienes:
		function limpiarSelect(id, texto) {
			const sel = document.getElementById(id);
			sel.innerHTML = `<option value="">${texto}</option>`;
			sel.classList.remove('select-con-valor'); // <-- Esto quita el fondo rojo
		}

		// Agrega estos listeners despu√©s de cargar el DOM:
		window.addEventListener('DOMContentLoaded', function () {
			['tipoVehiculo', 'tipoCombustible', 'condicion', 'anio', 'plazo', 'tasaInteres'].forEach(id => {
				const sel = document.getElementById(id);
				if (sel) {
					sel.addEventListener('change', function () {
						if (this.value && this.value !== "") {
							this.classList.add('select-con-valor');
						} else {
							this.classList.remove('select-con-valor');
						}
					});
					// Aplica el color si ya hay valor seleccionado al cargar
					if (sel.value && sel.value !== "") {
						sel.classList.add('select-con-valor');
					}
				}
			});
		});

		window.addEventListener('DOMContentLoaded', function () {
			const modal = document.getElementById('modalDatosPreaprobado');
			const botonCerrar = document.getElementById('cerrarModalPreaprobado');
			const botonCancelar = document.getElementById('btnCancelarPreaprobado');
			const formPreaprobado = document.getElementById('formPreaprobado');
			inicializarPersistenciaFormularioPreaprobado(formPreaprobado);

			if (modal) {
				modal.addEventListener('click', function (event) {
					if (event.target === modal) {
						cerrarModalDatosPreaprobado();
					}
				});
			}

			[botonCerrar, botonCancelar].forEach((btn) => {
				if (btn) {
					btn.addEventListener('click', cerrarModalDatosPreaprobado);
				}
			});

			if (formPreaprobado) {
				formPreaprobado.addEventListener('submit', async function (e) {
					e.preventDefault();
					enviarSolicitudPreaprobadoPorCorreo();
					await mostrarAvisoPreaprobado('Hemos recibido tus datos. Pronto nos comunicaremos', 750);
					formPreaprobado.reset();
					estadoPreaprobadoPersistente = {};
					cerrarModalDatosPreaprobado();
				});
			}

		});

		function manejarClickFueraModal(event) {
			const modal = document.getElementById('modalDatosPreaprobado');
			const contenido = modal ? modal.querySelector('.modal-preaprobado__content') : null;
			if (!modal || modal.getAttribute('aria-hidden') === 'true') {
				return;
			}
			if (contenido && contenido.contains(event.target)) {
				return;
			}
			cerrarModalDatosPreaprobado();
		}

		document.addEventListener('mousedown', manejarClickFueraModal);

		document.addEventListener('keydown', function (event) {
			if (event.key === 'Escape') {
				const modal = document.getElementById('modalDatosPreaprobado');
				if (modal && modal.getAttribute('aria-hidden') === 'false') {
					cerrarModalDatosPreaprobado();
				}
			}
		});

		window.addEventListener('resize', function () {
			const modal = document.getElementById('modalDatosPreaprobado');
			if (modal && modal.getAttribute('aria-hidden') === 'false') {
				posicionarModalDatosPreaprobado(modal);
			}
		});
	</script>

	<script>
		function abrirContacto() {
			alert('Formulario de contacto - Pr√≥ximamente disponible');
		}

		const linkDatosPreaprobadoHeader = document.getElementById('linkDatosPreaprobadoHeader');
		if (linkDatosPreaprobadoHeader) {
			linkDatosPreaprobadoHeader.addEventListener('click', function (e) {
				e.preventDefault();
				abrirModalDatosPreaprobado();
			});
		}

		document.querySelectorAll('a[href^="#"]').forEach(anchor => {
			if (anchor.dataset.modalLink === 'true') {
				return;
			}
			anchor.addEventListener('click', function (e) {
				e.preventDefault();
				const target = document.querySelector(this.getAttribute('href'));
				if (target) {
					target.scrollIntoView({
						behavior: 'smooth',
						block: 'start'
					});
				}
			});
		});

		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					entry.target.style.animation = 'fadeIn 0.8s ease forwards';
				}
			});
		}, {
			threshold: 0.1
		});

		document.querySelectorAll('section').forEach(section => {
			observer.observe(section);
		});

		console.log('%cWebModerna - HTML5 Moderno', 'color: #667eea; font-size: 20px; font-weight: bold;');
		console.log('Construido con HTML5, CSS3 y JavaScript ES6+');

		const formulario = document.getElementById('formularioContacto');
		const campos = {
			nombre: document.getElementById('nombre'),
			email: document.getElementById('email'),
			telefono: document.getElementById('telefono'),
			mensaje: document.getElementById('mensaje'),
			terminos: document.getElementById('terminos')
		};

		const errores = {
			nombre: document.getElementById('errorNombre'),
			email: document.getElementById('errorEmail'),
			telefono: document.getElementById('errorTelefono'),
			mensaje: document.getElementById('errorMensaje'),
			terminos: document.getElementById('errorTerminos')
		};

		const mensajeExito = document.getElementById('mensajeExito');
		const botonEnviar = document.getElementById('botonEnviar');
		const contadorCaracteres = document.getElementById('contadorCaracteres');

		campos.mensaje.addEventListener('input', function () {
			contadorCaracteres.textContent = this.value.length;
			if (this.value.length > 500) {
				this.value = this.value.substring(0, 500);
				contadorCaracteres.textContent = '500';
			}
		});

		Object.keys(campos).forEach(campo => {
			campos[campo].addEventListener('input', function () {
				limpiarErrorFormulario(campo);
			});
		});

		function validarEmail(email) {
			const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
			return regex.test(email);
		}

		function limpiarErrorFormulario(campo) {
			campos[campo].classList.remove('error');
			errores[campo].classList.remove('visible');
			if (campo === 'terminos') {
				errores[campo].style.fontWeight = '';
				errores[campo].style.color = '';
			}
		}

		function mostrarErrorFormulario(campo, mensaje) {
			campos[campo].classList.add('error');
			errores[campo].textContent = mensaje;
			errores[campo].classList.add('visible');
			if (campo === 'terminos') {
				errores[campo].style.fontWeight = '700';
				errores[campo].style.color = '#b81414';
			}
		}

		function validarCampoFormulario(campo) {
			const valor = campos[campo].value.trim();

			if (campo === 'nombre') {
				if (!valor) {
					mostrarErrorFormulario('nombre', 'El nombre es requerido');
					return false;
				}
				if (valor.length < 3) {
					mostrarErrorFormulario('nombre', 'El nombre debe tener al menos 3 caracteres');
					return false;
				}
			}

			if (campo === 'email') {
				if (!valor) {
					mostrarErrorFormulario('email', 'El email es requerido');
					return false;
				}
				if (!validarEmail(valor)) {
					mostrarErrorFormulario('email', 'Por favor ingresa un email v√°lido');
					return false;
				}
			}

			if (campo === 'telefono') {
				if (valor && valor.length < 10) {
					mostrarErrorFormulario('telefono', 'El tel√©fono debe tener al menos 10 d√≠gitos');
					return false;
				}
			}

			if (campo === 'mensaje') {
				if (!valor) {
					mostrarErrorFormulario('mensaje', 'El mensaje es requerido');
					return false;
				}
				if (valor.length < 10) {
					mostrarErrorFormulario('mensaje', 'El mensaje debe tener al menos 10 caracteres');
					return false;
				}
			}

			if (campo === 'terminos') {
				if (!campos[campo].checked) {
					mostrarErrorFormulario('terminos', 'Debe aceptar los t√©rminos');
					return false;
				}
			}

			limpiarErrorFormulario(campo);
			return true;
		}

		function validarFormularioCompleto() {
			const camposValidar = ['nombre', 'email', 'mensaje', 'terminos'];
			return camposValidar.every(campo => validarCampoFormulario(campo));
		}

		formulario.addEventListener('submit', function (e) {
			e.preventDefault();

			if (!validarFormularioCompleto()) {
				return;
			}

			botonEnviar.disabled = true;
			botonEnviar.textContent = 'Enviando...';

			setTimeout(() => {
				mensajeExito.classList.add('visible');
				formulario.reset();
				contadorCaracteres.textContent = '0';
				botonEnviar.disabled = false;
				botonEnviar.textContent = 'Enviar Mensaje';

				setTimeout(() => {
					mensajeExito.classList.remove('visible');
				}, 5000);
			}, 1500);
		});

		Object.keys(campos).forEach(campo => {
			campos[campo].addEventListener('blur', function () {
				validarCampoFormulario(campo);
			});
		});
	</script>
</body>
</html>
